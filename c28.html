<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <title>C28 - protocole</title>
    <style>
        .ctn{
            position: absolute;
            font-size: 2em;
            margin: auto;
            padding: auto;
            background-image: url("./img/chel.jpg");
        }
        body {
            margin: 0;
            background-color: #121212;
            color: #f8f6d2;
            font-family: monospace;
        }
    </style>
</head>

<body>
    <div class="ctn" id="ctn">
        <h1>C28</h1>
        <p>Protocole CHEL</p>
    </div>
    <script>
        const ctn = document.getElementById("ctn");
        var sx = 1;
        var sy = 1;
        var x = 0;
        var y = 0;
        var dx = 5;
        var dy = 5;

        function rchoice(lst){
            return lst[Math.floor(Math.random()*lst.length)];
        }

        function draw(){
            x += sx * dx;
            y += sy * dy;
            ctn.style.left = "" + x + "px";
            ctn.style.backgroundPosition = "left " + x + "px";
            ctn.style.top = "" + y + "px";
            ctn.style.width = "" + Math.max(y, 350) + "px";

            if(x >= 1200 || x <= 0){
                sx = -1 * sx;
                dx = Math.floor(Math.random() * 7);
            }
            if(y >= 400 || y <= 0){
                sy = -1 * sy;
                dy = Math.floor(Math.random() * 7);
            }

            if(Math.floor(Math.random()*1000)<5){
                let tmp = "<h1>Protocole " + dx + dy + "</h1><p>";
                for(let c=0; c < Math.floor(Math.random()*100); c++){
                    tmp += rchoice(["<br/>", "Chel", "C", "28", "r", "e", "nc", "ombre", "ments", " ", " ", " ", "-", "!", "oui", "non", "OUINONONONON", "ha ha", "hi 6"]);
                }
                ctn.innerHTML = tmp + "</p>";
                
            }
            window.requestAnimationFrame(draw);
        }

        window.requestAnimationFrame(draw);
    </script>
</body>

</html>